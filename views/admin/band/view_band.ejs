<%- include('../../partials/header.ejs') %>

  <!-- Page Wrapper -->
  <div id="wrapper">

    <%- include('../../partials/sidebar.ejs') %>

    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column">

      <!-- Main Content -->
      <div id="content">

        <%- include('../../partials/navbar.ejs') %>

        <!-- Begin Page Content -->
        <div class="container-fluid">

          
          <% if(action === 'view' || action === 'add') { %>
            <%- include('../../partials/alert.ejs') %>
          <% } %> 

        <!-- Page Heading -->
        <h1 class="h3 mb-4 text-gray-800">

          <% switch (action) {
            case 'add' : %>
              Add Band
                    <% break;
            
            case 'view' : %>
              Band
                    <% break;
            
            case 'edit' : %>
              Edit Band
                    <% break;         
          } %>

        </h1>  

        <% switch (action) {
          case 'add' : %>
          <%- include('add_band.ejs') %>
                  <% break;
          
          case 'view' : %>
          <%- include('./table_band') %>
                  <% break;
          
          case 'edit' : %>
          <%- include('./edit_band') %> 
                  <% break;         
        } %>

        </div>
        <!-- /.container-fluid -->

      </div>
      <!-- End of Main Content -->
      
      <%- include('../../partials/logout.ejs') %>

  <%- include('../../partials/footer.ejs') %>

<%- include('../../partials/js.ejs') %>

<script>

  var disabled;
  var disabledBand;
  var requiredOne;
  var requiredTwo;
  $("#editBand").on("click", function(){
      disabled = $("#disabledImageBand").is(":checked");
      disabledBand = $("#removeImageBand").is(":checked");
      requiredAdd = $("#addImageBand").is(":checked");
      requiredCreate = $("#createImageBand").is(":checked");
      if(disabled || disabledBand) {
        $('#imageBtn').attr("disabled", true)
      } else {
        $('#imageBtn').attr("disabled", false)
      }
      
      if(requiredAdd || requiredCreate) {
        $('#imageBtn').attr("required", true);
      } else {
        $('#imageBtn').attr("required", false)
      }
  }); 

 $(function () {

  $('.error-band-c1').hide();

  $(document).on('click', '#submit', chkSubmit);
    
    function chkSubmit() {

      var insideTinyC1 = $('.tinymce-c1').val();
      
        var textmsgC1 = $.trim($(insideTinyC1).text());
        
          if (textmsgC1 == '') {
            
            //alert('nogo');
            $('.error-band-c1').show();
            $('.error-band-c1').html('Please fill out something in the comments box');
            return false;
          }
          else{
            //alert(textmsg);
            $('.error-band-c1').hide();
            $('.error-band-c1').html('');
            
          }
      
      }
})

$(function () {

  $('.error-band-c2').hide();

  $(document).on('click', '#submit', chkSubmit);
    
    function chkSubmit() {

      var insideTinyC2 = $('.tinymce-c2').val();
      
        var textmsgC2 = $.trim($(insideTinyC2).text());

          if (textmsgC2 == '') {
            
            //alert('nogo');
            $('.error-band-c2').show();
            $('.error-band-c2').html('Please fill out something in the comments box');
            return false;
          }
          else{
            //alert(textmsg);
            $('.error-band-c2').hide();
            $('.error-band-c2').html('');
            
          }
      
      }
})

</script>
